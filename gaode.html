<!DOCTYPE html>
<html lang="en">
<!-- 高德教程如下 -->
<!-- https://lbs.amap.com/api/loca-api/guide/heatmap -->
<!-- https://lbs.amap.com/api/loca-api/demos/loca_heatmap/loca_heatmap_3d -->
<!-- https://a.amap.com/jsapi_demos/static/citys.js -->

<!-- 姚毅师兄所用的 heatmap.js 中利用谷歌地图的示例，与高德相仿，无非就是 new HeatmapOverlay 一个图层，只需要修改为对应的api和数据即可 -->
<!-- https://github.com/pa7/heatmap.js/blob/master/examples/googlemaps-heatmap/index.html -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>

<body>

    <!-- DIV需要指定宽高，才可以显示底图 -->
    <div id="map" style="width:800px ; height:600px;"></div>

    <script src="https://webapi.amap.com/maps?v=1.4.15&key=04eb3084a77456f9985236addcf5d2a8&"></script>
    <script src="https://webapi.amap.com/loca?v=1.3.0&key=04eb3084a77456f9985236addcf5d2a8"></script>
    <script>
        // 创建地图实例
        const map = new AMap.Map('map', {
            mapStyle: 'amap://styles/grey',
            zoom: 10,
            center: [114.085947,22.547]
        });
        // 创建可视化图层——绘制散点图层
        const layer = new Loca.HeatmapLayer({
            map: map
        });
        // 市县位置数据
        var data = [{
                "lnglat": [114.123885, 22.555341],
                "name": "罗湖区",
                "style": 2,
                "count": 12
            },
            {
                "lnglat": [114.05096, 22.541009],
                "name": "福田区",
                "style": 2,
                "count": 40
            },
            {
                "lnglat": [113.92943, 22.531221],
                "name": "南山区",
                "style": 2,
                "count": 50
            },
            {
                "lnglat": [113.828671, 22.754741],
                "name": "宝安区",
                "style": 2,
                "count": 20
            },
            {
                "lnglat": [114.251372, 22.721511],
                "name": "龙岗区",
                "style": 2,
                "count": 30
            },
            {
                "lnglat": [114.235366, 22.555069],
                "name": "盐田区",
                "style": 2,
                "count": 15
            },
            {
                "lnglat": [114.044346, 22.691963],
                "name": "龙华区",
                "style": 2,
                "count": 20
            },
            {
                "lnglat": [114.338441, 22.69423],
                "name": "坪山区",
                "style": 2,
                "count": 30
            },
        ]

        // 传入原始数据
        layer.setData(data, {
            lnglat: 'lnglat', // 指定坐标数据的来源，数据格式: 经度在前，维度在后，数组格式。
            value: 'count'
        });
        // 配置样式
        layer.setOptions({
            style: {
                // 热力半径，单位：像素
                radius: 16,
                opacity: [0.1, 0.8],
                // 颜色范围
                color: {
                    0.5: '#2c7bb6',
                    0.65: '#abd9e9',
                    0.7: '#ffffbf',
                    0.9: '#fde468',
                    1.0: '#d7191c'
                }
            }
        });
        layer.render();
    </script>
</body>

</html>